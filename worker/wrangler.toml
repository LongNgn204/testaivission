name = "vision-coach-worker"
type = "javascript"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Account ID and Zone ID - Replace with your actual values
account_id = "2b532552ba77e0909d0a3b9bdf040984"
workers_dev = true

# Environment variables
[env.production]
vars = { ENVIRONMENT = "production" }
routes = [
  { pattern = "api.yourdomain.com/*", zone_name = "yourdomain.com" }
]

[env.development]
vars = { ENVIRONMENT = "development" }

# KV Namespace for caching
[[kv_namespaces]]
binding = "CACHE"
id = "942c339bec2e43969167aa507c723f97"
preview_id = "80b0ee1abfbd4b28b401ab6094fedfa6"

# Secrets (set via: wrangler secret put GEMINI_API_KEY)
# GEMINI_API_KEY will be available as env.GEMINI_API_KEY

# Build configuration
[build]
command = "npm run build"
cwd = "./"
watch_paths = ["src/**/*.ts"]

# Observability
[observability]
enabled = true

# Limits
limits = { cpu_ms = 50000 }

# Analytics Engine (optional)
[analytics]
enabled = false

