# ============================================================
# ðŸš€ Cloudflare Workers Configuration - Vision Coach Backend
# ============================================================

name = "vision-coach-backend"
main = "worker.js"
compatibility_date = "2025-11-27"
workers_dev = true

# Account info (sáº½ Ä‘Æ°á»£c set khi login)
# account_id = "your-account-id"

[env.production]
name = "vision-coach-backend-production"

[env.staging]
name = "vision-coach-backend-staging"

# Environment variables (secrets)
# Set báº±ng: wrangler secret put GEMINI_API_KEY
# Set báº±ng: wrangler secret put JWT_SECRET

# Compatibility flags
compatibility_flags = ["nodejs_compat"]

# Routes (sau khi deploy sáº½ cÃ³ domain)
# [[routes]]
# pattern = "api.your-domain.com/*"
# zone_name = "your-domain.com"

# Observability
[observability]
enabled = true
head_sampling_rate = 1.0

# Build configuration
[build]
command = "echo 'No build needed'"

# CORS settings (Ä‘Æ°á»£c xá»­ lÃ½ trong code)
